<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">

  <title>HOME - Client 1 | SW</title>
</head>
<body>
Home page
<br/>
<button onclick="tell_sw_to_broadcast();">Tell SW to broadcast all Clients.</button>
<footer>
  <ul>
    <li><a href="/index.html">Home</a></li>
    <li><a href="/help.html">Help</a></li>
  </ul>
</footer>

<script src="js/app.js"></script>
<script>
  send_message_to_sw("Home page", "Hello 1").then(m => console.log(m));

  if('serviceWorker' in navigator){
    // Handler for messages coming from the service worker
    navigator.serviceWorker.addEventListener('message', function(event){
      console.log("HOME PAGE Received Message: " + event.data);
      event.ports[0].postMessage("HOME PAGE Says 'Hello back!'");
    });
  }
</script>
</body>
</html>